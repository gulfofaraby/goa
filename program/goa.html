<!DOCTYPE html>
<html>
<head>
  <style>body{color:white; background-color:black;} p{color:white; font-size:28px; font-type:"Courier New"}</style>
  <script src="../jspsych.js"></script>
  <script src="../plugins/jspsych-animation.js"></script>
  <script src="../plugins/jspsych-html-keyboard-response.js"></script>
  <script src="../plugins/jspsych-image-keyboard-response.js"></script>
  <link rel="stylesheet" href="../css/jspsych.css"></link>
</head>
<script>
  const picPath = '../docs/img_goa/';
  var step;  
  var picsB = [];
  for (step = 0; step < 2; step++) 
    picsB.push(picPath.concat('b', step, '.jpg'));
  var picsL = [];
  for (step = 0; step < 24; step++) 
    picsL.push(picPath.concat('l', step, '.jpg'));
  var picsP = [];
  for (step = 0; step < 24; step++) 
    picsP.push(picPath.concat('p', step, '.jpg'));
  var picsS = [];
//  for (step = 0; step < 8; step++) 
//    picsS.push(picPath.concat('s', step, '.jpg'));
  var picsV = [];
  for (step = 0; step < 11; step++) 
    picsV.push(picPath.concat('v', step, '.jpg'));
  const picsA = picsB.concat(picsL, picsP, picsS, picsV);
  
  var block1 = {
    type: 'html-keyboard-response',
    choices: jsPsych.NO_KEYS,
    trial_duration: 2000,
    timeline: [
      {stimulus: "<p>simply  focus  and  relax</p>"},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=600>'},
      {stimulus: "<p>it's  good  to  relax</p>"},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=600>'},
      {stimulus: "<p>simply  focus  and  relax</p>"},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=600>'},
      {stimulus: "<p>it's  good  to  relax</p>", trial_duration: 1300},
      {stimulus: "<p>      good      relax</p>", trial_duration: 67},
      {stimulus: "<p>    a good girl relaxes</p>", trial_duration: 133},
      {stimulus: "<p>it's  good  to  relax</p>", trial_duration: 500},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=600>'},
      {stimulus: "<p>breathe,  focus,  and  relax</p>"},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=600>'},
      {stimulus: "<p>it's  relaxing  to  focus         </p>", trial_duration: 1200},
      {stimulus: "<p>relax         focus               </p>", trial_duration: 67},
      {stimulus: "<p>good girl,   relax   and   focus  </p>", trial_duration: 133},
      {stimulus: "<p>good girl    relax         focus  </p>", trial_duration: 67},
      {stimulus: "<p>a good girl is relaxed  and  focused</p>", trial_duration: 133},
      {stimulus: "<p>it's  relaxing  to  focus         </p>", trial_duration: 400},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=600>'}
      /*
      {prompt: "<p>simply focus and relax</p>"},
      {prompt: "<p>simply focus and relax</p>"},
      {prompt: "<p>it's good to relax</p>"},
      {prompt: "<p>simply focus and relax</p>"},
      {prompt: "<p>it's good to relax</p>"},
      {prompt: "<p>a good girl relaxes</p>", trial_duration: 167},
      */
    ]
};    
  
  var trial1 = {
    type: 'animation',
    stimuli: jsPsych.randomization.sampleWithoutReplacement(picsA, 10),
    sequence_reps: 1,
    frame_time: 133,
  };
  
  var iti1 = {
    type: 'animation',
    stimuli: ['../docs/img_goa/pink0.jpg', '../docs/img_goa/s7.jpg', '../docs/img_goa/pink0.jpg', '../docs/img_goa/white0.jpg', '../docs/img_goa/white0.jpg', '../docs/img_goa/white0.jpg'],
    sequence_reps: 1,
    frame_time: 150,
  };
  
  var trial2 = {
    type: 'animation',
    stimuli: jsPsych.randomization.sampleWithoutReplacement(picsA, 10),
    sequence_reps: 1,
    frame_time: 100,
  };
  
  jsPsych.init({
    timeline: [block1, iti1, trial1, iti1, trial2],
    on_finish: function() {
      jsPsych.data.displayData();
    }
  });
</script>

</html>
