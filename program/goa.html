<!DOCTYPE html>
<html>
<head>
  <script src="../jspsych.js"></script>
  <script src="../plugins/jspsych-animation.js"></script>
  <script src="../plugins/jspsych-html-keyboard-response.js"></script>
  <script src="../plugins/jspsych-image-keyboard-response.js"></script>
  <link rel="stylesheet" href="../css/jspsych.css"></link>
</head>
<body style="background-color:#000000"></body>
<script>
  const picPath = '../docs/img_goa/';
  var step;  
  var picsB = [];
  for (step = 0; step < 2; step++) 
    picsB.push(picPath.concat('b', step, '.jpg'));
  var picsL = [];
  for (step = 0; step < 24; step++) 
    picsL.push(picPath.concat('l', step, '.jpg'));
  var picsP = [];
  for (step = 0; step < 24; step++) 
    picsP.push(picPath.concat('p', step, '.jpg'));
  var picsS = [];
//  for (step = 0; step < 8; step++) 
//    picsS.push(picPath.concat('s', step, '.jpg'));
  var picsV = [];
  for (step = 0; step < 11; step++) 
    picsV.push(picPath.concat('v', step, '.jpg'));
  const picsA = picsB.concat(picsL, picsP, picsS, picsV);
  
  var trial0 = {
    type: 'html-keyboard-response',
    stimulus: '<img src="../docs/img_goa/spiral0.gif">',
    choices: jsPsych.NO_KEYS,
    prompt: "<p>relax and focus</p>",
    trial_duration: 10000
};    
  
  var trial1 = {
    type: 'animation',
    stimuli: jsPsych.randomization.sampleWithoutReplacement(picsA, 10),
    sequence_reps: 1,
    frame_time: 133,
  };
  
  var iti1 = {
    type: 'animation',
    stimuli: ['../docs/img_goa/pink0.jpg', '../docs/img_goa/s7.jpg', '../docs/img_goa/pink0.jpg', '../docs/img_goa/white0.jpg', '../docs/img_goa/white0.jpg', '../docs/img_goa/white0.jpg'],
    sequence_reps: 1,
    frame_time: 150,
  };
  
  var trial2 = {
    type: 'animation',
    stimuli: jsPsych.randomization.sampleWithoutReplacement(picsA, 10),
    sequence_reps: 1,
    frame_time: 100,
  };
  
  jsPsych.init({
    timeline: [trial0, trial1, iti1, trial2],
    on_finish: function() {
      jsPsych.data.displayData();
    }
  });
</script>

</html>
