<!DOCTYPE html>
<html>
<head>
  <style>body{color:white; background-color:black;} p{color:white; font-size:36px; font-type:"Courier New"; margin:.1em;}</style>
  <style> .container{position:relative; float:left; width:800px; margin:0px; padding:0px; display:flex; align-items:center; justify-content:center;} .text-block {position:absolute; background:rgb(0,0,0); background:rgba(0,0,0,0.7); color: white; padding:0px; margin:0px; /* padding-left: 10px; padding-right: 10px; */ }</style>
  <script src="../jspsych.js"></script>
  <script src="../plugins/jspsych-animation.js"></script>
  <script src="../plugins/jspsych-html-keyboard-response.js"></script>
  <script src="../plugins/jspsych-image-keyboard-response.js"></script>
  <link rel="stylesheet" href="../css/jspsych.css"></link>
</head>
<script>
  const picPath = '../docs/img_goa/';
  var step;  
  var picsB = [];
  for (step = 0; step < 2; step++) 
    picsB.push(picPath.concat('b', step, '.jpg'));
  var picsL = [];
  for (step = 0; step < 24; step++) 
    picsL.push(picPath.concat('l', step, '.jpg'));
  var picsP = [];
  for (step = 0; step < 24; step++) 
    picsP.push(picPath.concat('p', step, '.jpg'));
  var picsS = [];
//  for (step = 0; step < 8; step++) 
//    picsS.push(picPath.concat('s', step, '.jpg'));
  var picsV = [];
  for (step = 0; step < 11; step++) 
    picsV.push(picPath.concat('v', step, '.jpg'));
  const picsA = picsB.concat(picsL, picsP, picsS, picsV);

/*  const displayCode1 = '{stimulus: \<div class=\"container\"><img src=\"../docs/img_goa/'; */

  var displayContent = [
    {bg:'black0.jpg', text:'simply  focus  and  relax'},
    {bg:'spiral1.gif', text:'simply  focus  and  relax'},
    {bg:'spiral1.gif'},
    {bg:'spiral1.gif', text:'  it\'s  good  to  relax  '},
    {bg:'spiral1.gif', text:'        good      relax  ', dur: 200},
    {bg:'spiral1.gif', text:'      a good girl relaxes', dur: 400},
    {bg:'spiral1.gif', text:'  it\'s  good  to  relax  ', dur: 600},
    {bg:'spiral1.gif'}
  ];
  
  var displayTrials = [];
  displayContent.forEach(function(dispCont) {
    if (dispCont.text == null && dispCont.dur == null) {
      displayTrials.push({stimulus: '<div class="container"><img src="../docs/img_goa/' + dispCont.bg + '" style="width:100%;"></div>'});
    } else if (dispCont.text == null) {
      displayTrials.push({stimulus: '<div class="container"><img src="../docs/img_goa/' + dispCont.bg + '" style="width:100%;"></div>', trial_duration: dispCont.dur});
    } else if (dispCont.dur == null) {
      displayTrials.push({stimulus: '<div class="container"><img src="../docs/img_goa/' + dispCont.bg + '" style="width:100%;"><div class="text-block"><p><pre>' + dispCont.text + '</pre></p></div></div>'});
    } else {
      displayTrials.push({stimulus: '<div class="container"><img src="../docs/img_goa/' + dispCont.bg + '" style="width:100%;"><div class="text-block"><p><pre>' + dispCont.text + '</pre></p></div></div>', trial_duration: dispCont.dur});
    }
  });
  
  var block1 = {
    type: 'html-keyboard-response',
    choices: jsPsych.NO_KEYS,
    trial_duration: 5000,
    timeline: displayTrials,
  };
  
      /*
      {stimulus: '<div class="container"><div class="text-block"><p><pre>simply  focus  and  relax</pre></p></div></div>'},
      {stimulus: '<div class="container"><img src="../docs/img_goa/spiral1.gif" style="width:100%;"><div class="text-block"><p><pre>simply  focus  and  relax</pre></p></div></div>'},
      {stimulus: '<div class="container"><img src="../docs/img_goa/spiral1.gif" style="width:100%;"></div>'},
      {stimulus: '<div class="container"><img src="../docs/img_goa/spiral1.gif" style="width:100%;"><div class="text-block"><p><pre>  it\'s  good  to  relax  </pre></p></div></div>'},
      {stimulus: '<div class="container"><img src="../docs/img_goa/spiral1.gif" style="width:100%;"><div class="text-block"><p><pre>        good      relax  </pre></p></div></div>', trial_duration: 200},
      {stimulus: '<div class="container"><img src="../docs/img_goa/spiral1.gif" style="width:100%;"><div class="text-block"><p><pre>      a good girl relaxes</pre></p></div></div>', trial_duration: 400},
      {stimulus: '<div class="container"><img src="../docs/img_goa/spiral1.gif" style="width:100%;"><div class="text-block"><p><pre>  it\'s  good  to  relax  </pre></p></div></div>', trial_duration: 600}
      */
      /*
      {stimulus: "<p><pre>simply  focus  and  relax</pre></p>"},
      {stimulus: '<img src="../docs/img_goa/spiral1.gif" width=800 height=800>'},
      {stimulus: "<p><pre>  it's  good  to  relax  </pre></p>", trial_duration: 1300},
      {stimulus: "<p><pre>        good      relax  </pre></p>", trial_duration: 100},
      {stimulus: "<p><pre>      a good girl relaxes</pre></p>", trial_duration: 250},
      {stimulus: "<p><pre>  it's  good  to  relax  </pre></p>", trial_duration: 350},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=800>'},
      {stimulus: "<p><pre>breathe,  focus,  and  relax</pre></p>"},
      {stimulus: '<img src="../docs/img_goa/spiral1.gif" width=800 height=800>'},
      {stimulus: "<p><pre>         it's  relaxing  to  focus         </pre></p>", trial_duration: 1000},
      {stimulus: "<p><pre>               relax         focus         </pre></p>", trial_duration: 100},
      {stimulus: "<p><pre>  good girl,   relax   and   focus         </pre></p>", trial_duration: 250},
      {stimulus: "<p><pre>  good girl    relax         focus         </pre></p>", trial_duration: 100},
      {stimulus: "<p><pre>a good girl is relaxed  and  focused       </pre></p>", trial_duration: 250},
      {stimulus: "<p><pre>         it's  relaxing  to  focus         </pre></p>", trial_duration: 300},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=800>'},
      {stimulus: "<p><pre>           it's  good  to  focus  and  relax           </pre></p>", trial_duration: 1250},
      {stimulus: "<p><pre>                 good girl focus  and  relax           </pre></p>", trial_duration: 250},
      {stimulus: "<p><pre>                 good girl                             </pre></p>", trial_duration: 100},
      {stimulus: "<p><pre>you want to be a good girl                             </pre></p>", trial_duration: 400},
      {stimulus: '<img src="../docs/img_goa/spiral1.gif" width=800 height=800>'}
      */
      /*
      {stimulus: "<p><pre>simply  focus  and  relax</pre></p>"},
      {stimulus: '<img src="../docs/img_goa/spiral1.gif" width=800 height=800>'},
      {stimulus: "<p><pre>it's  good  to  relax  </pre></p>"},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=800>'},
      {stimulus: "<p><pre>simply  focus  and  relax</pre></p>"},
      {stimulus: '<img src="../docs/img_goa/spiral1.gif" width=800 height=800>'},
      {stimulus: "<p><pre>it's  good  to  relax  </pre></p>", trial_duration: 1300},
      {stimulus: "<p><pre>      good      relax  </pre></p>", trial_duration: 100},
      {stimulus: "<p><pre>    a good girl relaxes</pre></p>", trial_duration: 250},
      {stimulus: "<p><pre>it's  good  to  relax  </pre></p>", trial_duration: 350},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=800>'},
      {stimulus: "<p><pre>breathe,  focus,  and  relax</pre></p>"},
      {stimulus: '<img src="../docs/img_goa/spiral1.gif" width=800 height=800>'},
      {stimulus: "<p><pre>         it's  relaxing  to  focus         </pre></p>", trial_duration: 1000},
      {stimulus: "<p><pre>               relax         focus         </pre></p>", trial_duration: 100},
      {stimulus: "<p><pre>  good girl,   relax   and   focus         </pre></p>", trial_duration: 250},
      {stimulus: "<p><pre>  good girl    relax         focus         </pre></p>", trial_duration: 100},
      {stimulus: "<p><pre>a good girl is relaxed  and  focused       </pre></p>", trial_duration: 250},
      {stimulus: "<p><pre>         it's  relaxing  to  focus         </pre></p>", trial_duration: 300},
      {stimulus: '<img src="../docs/img_goa/spiral0.gif" width=800 height=800>'},
      {stimulus: "<p><pre>           it's  good  to  focus  and  relax           </pre></p>", trial_duration: 1250},
      {stimulus: "<p><pre>                 good girl focus  and  relax           </pre></p>", trial_duration: 250},
      {stimulus: "<p><pre>                 good girl                             </pre></p>", trial_duration: 100},
      {stimulus: "<p><pre>you want to be a good girl                             </pre></p>", trial_duration: 400},
      {stimulus: '<img src="../docs/img_goa/spiral1.gif" width=800 height=800>'}
      */
      /*
      {prompt: "<p>simply focus and relax</p>"},
      {prompt: "<p>simply focus and relax</p>"},
      {prompt: "<p>it's good to relax</p>"},
      {prompt: "<p>simply focus and relax</p>"},
      {prompt: "<p>it's good to relax</p>"},
      {prompt: "<p>a good girl relaxes</p>", trial_duration: 167},
      */
    /*
    ]
    */    
  
  var trial1 = {
    type: 'animation',
    stimuli: jsPsych.randomization.sampleWithoutReplacement(picsA, 10),
    sequence_reps: 1,
    frame_time: 133,
  };
  
  var iti1 = {
    type: 'animation',
    stimuli: ['../docs/img_goa/pink0.jpg', '../docs/img_goa/s7.jpg', '../docs/img_goa/pink0.jpg', '../docs/img_goa/black0.jpg', '../docs/img_goa/black0.jpg', '../docs/img_goa/black0.jpg'],
    sequence_reps: 1,
    frame_time: 100,
  };
  
  var trial2 = {
    type: 'animation',
    stimuli: jsPsych.randomization.sampleWithoutReplacement(picsA, 10),
    sequence_reps: 1,
    frame_time: 100,
  };
  
  jsPsych.init({
    timeline: [block1, iti1, trial1, iti1, trial2],
    on_finish: function() {
      jsPsych.data.displayData();
    }
  });
</script>

</html>
